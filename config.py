# config.py - 설정 파일

# Exp 획득 설정
EXP_PER_MINUTE = 1  # 1분당 1 exp (기본값, voice_channel_exp.txt에 설정되지 않은 채널에서 사용)

# 음성채널별 EXP 지급 설정은 이제 voice_channel_exp.txt 파일에서 관리됩니다.
# !jk음성채팅 명령어를 사용하여 설정을 관리할 수 있습니다.
# 하위 호환성을 위해 빈 딕셔너리로 유지합니다.
VOICE_CHANNEL_EXP = {}

# 레벨업 설정
# 각 구간별로 1레벨업에 필요한 시간(분)과 포인트를 직접 지정
# 형식: (시작레벨, 끝레벨): (레벨업_시간_분, 레벨업_포인트)
# 레벨 범위 설정은 이제 level_ranges.txt 파일에서 관리됩니다.
# !jk레벨시스템 명령어를 사용하여 설정을 관리할 수 있습니다.
# 하위 호환성을 위해 기본값을 유지합니다.
_DEFAULT_LEVEL_RANGES = {
    (1, 10): (10, 10),      # 1~10레벨: 10분, 10포인트
    (11, 20): (11, 12),     # 11~20레벨: 11분, 12포인트
    (21, 30): (12, 14),     # 21~30레벨: 12분, 14포인트
    (31, 40): (20, 35),     # 31~40레벨: 20분, 35포인트
    (41, 50): (21, 39),     # 41~50레벨: 21분, 39포인트
    (51, 60): (22, 43),     # 51~60레벨: 22분, 43포인트
    (61, 70): (23, 48),     # 61~70레벨: 23분, 48포인트
    (71, 80): (35, 100),    # 71~80레벨: 35분, 100포인트
    (81, 90): (36, 106),    # 81~90레벨: 36분, 106포인트
    (91, 100): (37, 112),   # 91~100레벨: 37분, 112포인트
    (101, 110): (50, 208),   # 101~110레벨: 50분, 208포인트
    (111, 120): (51, 217),   # 111~120레벨: 51분, 217포인트
    (121, 130): (52, 225),   # 121~130레벨: 52분, 225포인트
    (131, 140): (53, 234),   # 131~140레벨: 53분, 234포인트
    (141, 150): (54, 243),   # 141~150레벨: 54분, 243포인트
    (151, 160): (60, 300),   # 151~160레벨: 60분, 300포인트
    (161, 170): (60, 330),   # 161~170레벨: 60분, 330포인트
    (171, 180): (60, 370),   # 171~180레벨: 60분, 370포인트
    (181, 190): (60, 450),   # 181~190레벨: 60분, 450포인트
    (191, 200): (60, 550),   # 191~200레벨: 60분, 550포인트
    (201, 210): (60, 1000),  # 201~210레벨: 60분, 1000포인트
    # 더 많은 구간을 추가하려면 여기에 계속 추가하세요
    # 예: (211, 220): (60, 1200),  # 211~220레벨: 60분, 1200포인트
}

# 파일에서 레벨 범위 로드 (없으면 기본값 사용)
def get_level_ranges():
    """레벨 범위 설정을 파일에서 로드 (없으면 기본값 반환)"""
    try:
        from level_ranges_manager import load_level_ranges
        ranges = load_level_ranges()
        if ranges:
            return ranges
    except Exception:
        pass
    return _DEFAULT_LEVEL_RANGES

# 하위 호환성을 위해 LEVEL_RANGES 변수 유지 (동적으로 로드)
LEVEL_RANGES = get_level_ranges()

# 닉네임 설정
NICKNAME_FORMAT = "[Lv.{level}] {original_nickname}"  # 레벨 표시 형식
NICKNAME_REFRESH_INTERVAL = 3600  # 1시간 (초 단위)

# 음성채널 체크 주기
VOICE_CHECK_INTERVAL = 60  # 1분마다 exp 체크 (초 단위)

# 명령어 제한 채널
RANK_COMMAND_CHANNEL_ID = 1447457558762622976  # None이면 모든 채널에서 사용 가능, 채널 ID를 입력하면 해당 채널에서만 사용 가능
MARKET_COMMAND_CHANNEL_ID = 1453344981141033018  # 마켓 명령어 채널 ID
# 로그 채널
LOG_CHANNEL_ID_JK = 1449333459037192192  # JK 명령어 로그를 전송할 채널 ID
LOG_CHANNEL_ID_LEVEL = 1453357356363677739  # 레벨업 로그를 전송할 채널 ID
LOG_CHANNEL_ID_MARKET = 1453357389418991667  # 마켓 관련 로그를 전송할 채널 ID
TIER_CONGRATULATION_CHANNEL_ID = 1447457558762622976  # 티어 업그레이드 축하 메시지를 전송할 채널 ID
LOG_WARNING_CHANNEL_ID = 1458072593079861352  # 경고 관련 로그를 전송할 채널 ID
SERVER_FEE_LOG_CHANNEL_ID = 1458736189719711887  # 서버비 기록을 전송할 채널 ID

# 티어 역할 설정
# 형식: {티어_이름: (도달_레벨, 역할_이름)}
# 레벨이 도달_레벨 이상이면 해당 역할이 지급됩니다.
# 여러 티어에 도달한 경우 가장 높은 티어 역할만 유지됩니다.
# 티어 역할 설정은 이제 tier_roles.txt 파일에서 관리됩니다.
# !jk티어시스템 명령어를 사용하여 설정을 관리할 수 있습니다.
# 하위 호환성을 위해 기본값을 유지합니다.
_DEFAULT_TIER_ROLES = {
    "브론즈": (0, "Bronze"),      # 0~39레벨
    "실버": (20, "Silver"),         # 40~59레벨
    "골드": (40, "Gold"),         # 60~79레벨
    "플레티넘": (80, "Platinum"), # 100~149레벨
    "다이아": (110, "Diamond"),     # 80~99레벨
    "루비": (150, "Ruby")         # 150레벨 이상
}

# 파일에서 티어 역할 로드 (없으면 기본값 사용)
def get_tier_roles():
    """티어 역할 설정을 파일에서 로드 (없으면 기본값 반환)"""
    try:
        from tier_roles_manager import load_tier_roles
        roles = load_tier_roles()
        if roles:
            return roles
    except Exception:
        pass
    return _DEFAULT_TIER_ROLES

# 하위 호환성을 위해 TIER_ROLES 변수 유지 (동적으로 로드)
TIER_ROLES = get_tier_roles()